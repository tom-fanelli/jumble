const numRounds = 3
const fourLetterWords = ['ebbs','carb','firm','care','coil','list','kale','pawn','soda','gook','juju','gush','amen','frat','grog','gala','hump','rein','thug','tops','bird','dank','fort','raft','etch','tars','fold','rain','vail','bend','kook','dose','cite','full','star','begs','cuss','puke','palm','elms','pain','dewy','chum','ahem','ends','dino','inks','type','fibs','sire','hack','pure','nerd','caps','dawn','fire','gals','sirs','aids','blah','bear','sane','arid','sand','down','pyro','slid','aces','ping','crab','idea','cobs','hire','work','wife','some','claw','file','saga','lime','pugs','fuse','high','cubs','ride','jock','game','atop','poke','dice','reps','spur','rots','pity','toot','jigs','trot','icon','suns','says','hush','pave','kits','howl','ugly','bras','gnat','dubs','amid','hymn','none','colt','snag','took','ache','alto','mops','dork','crap','lain','drab','baby','silo','just','flop','sack','omit','cafe','rook','smog','eddy','moth','hike','arcs','girl','stab','chad','idol','wade','vast','meta','flab','jams','craw','gate','sine','heed','lies','gull','pens','wars','maid','loan','cash','unto','achy','bran','dogs','able','bell','burp','dong','coat','dune','goal','swap','from','else','robs','hype','eggs','gigs','poof','demo','acid','glow','bolo','days','gore','hubs','maze','coma','pond','tout','oven','lest','phew','pint','jogs','mime','need','garb','deck','eats','beam','lion','rips','duke','font','goes','clap','flux','sulk','taco','chin','byte','warm','rule','pole','seed','chip','dock','gags','boil','clam','asks','flip','tore','lamb','tots','held','otto','bind','rums','hiss','hoop','best','edgy','swig','sled','tall','drip','oaky','bode','mode','club','visa','slog','nods','cute','dorm','desk','smug','fuss','wish','lobe','move','data','vets','tone','rush','role','ajar','nail','ruts','hood','jive','ween','dozy','loaf','nook','been','shag','roll','nuke','keep','slot','gasp','sold','clue','grit','waft','rink','sued','math','very','flow','tied','lend','jeer','pans','hues','span','plea','wore','refs','book','bong','lust','juts','gels','prep','muck','lazy','ices','mall','fame','deaf','diss','turn','nose','dusk','afar','like','brag','hail','thou','glad','tend','harm','skis','tins','coop','puts','apex','runt','gain','leaf','bulk','wall','guru','tubs','duet','thaw','clay','veto','rake','sear','mind','ably','soil','grow','slug','clot','heal','buzz','worm','pest','prey','each','bang','rats','tale','pair','cent','bike','vice','seek','owed','ulna','pads','tree','jerk','beta','thin','rave','sips','join','cake','tent','base','idle','slip','plow','earn','lays','cast','dump','bulb','rift','bull','salt','blue','lots','pins','blur','acai','cost','opus','mows','folk','orbs','kegs','fork','mass','imps','such','vows','wary','wait','rose','kilo','kerf','rich','arts','hulk','rent','deed','uses','sake','soap','vote','omen','land','hall','frag','wads','back','bawl','reel','only','real','webs','sour','updo','cops','monk','tear','cyan','onus','arks','fawn','hill','mats','seat','case','reed','suit','drop','form','mugs','verb','body','vine','knew','gems','date','tour','sick','curt','side','turf','subs','dear','neck','home','skim','pong','fogs','pose','volt','vial','chew','puck','mice','lieu','seep','dent','paws','barf','inky','talc','orca','left','oral','rile','musk','wins','wave','wail','akin','lair','deal','hewn','ware','foes','dame','wags','knee','axes','brie','bout','sure','boot','sway','opts','node','toon','grew','grid','perk','owns','beep','beer','calm','sail','heft','odor','loss','fact','duel','skin','tail','want','knot','glen','urge','roam','laps','ruse','toil','fern','wing','west','cask','sums','vans','mead','many','thud','rang','funk','hour','laid','eons','dyed','digs','lock','golf','flag','junk','cube','grim','oars','posy','punt','fend','lows','mini','tell','soft','pass','lake','slur','lewd','tyke','hate','navy','boom','teem','mash','past','flax','line','hive','slop','duty','hoof','rust','figs','vied','here','scam','gait','most','coda','bite','read','maul','mine','bush','veer','tide','grab','ogle','keen','warn','loot','lost','half','cork','puns','iffy','tech','unit','bums','card','bugs','oaks','pies','pool','naps','weed','alas','moon','amps','guts','iced','lick','snow','onto','bait','site','wine','watt','ovum','butt','guys','scar','bibs','suck','quit','aide','poor','hued','cozy','head','were','rage','rest','melt','swab','mums','over','surf','zone','solo','prom','chat','aims','thus','kelp','lack','gust','heir','wind','kilt','gill','acre','chef','slew','rock','jugs','jars','noun','evil','clog','snug','brew','good','hole','serf','mosh','tugs','seen','pout','gram','rugs','swam','wake','make','poem','dies','curb','hide','emit','skew','fizz','sump','taps','nest','dumb','save','oily','lard','brow','dove','boys','null','come','defy','oafs','meal','fins','last','fine','moan','made','grin','raze','bunt','step','abet','cone','beet','tomb','word','born','pots','bore','ages','urea','reek','pony','herd','grip','mage','flat','gosh','luau','aged','poll','chai','vain','pimp','yarn','oboe','hung','turd','thee','swag','bows','next','sale','sass','kill','died','lint','wand','fest','lent','trap','mare','jest','tows','task','swan','haul','mope','sues','irks','tsar','goer','dill','teen','shop','slay','pink','frog','ouch','reap','clef','gets','comb','wart','rack','soot','jinx','user','toes','pear','shoe','taut','plug','hook','geek','hers','dews','seam','film','nuns','cold','loud','egos','curl','dive','avid','heel','spot','limo','brim','guns','plan','room','dire','ever','must','java','halt','undo','shin','rods','pray','sing','cage','spam','lung','heat','bees','exam','fits','dart','snub','ibex','draw','fall','dote','tote','hank','babe','fees','peck','buoy','snot','wide','flew','tart','alum','daze','malt','pays','nuts','vids','rubs','send','laze','tube','corn','feta','lyre','gums','stem','hunt','stud','aloe','knob','foam','helm','furl','bone','bold','tank','mast','rote','lady','honk','lose','lift','lugs','said','east','bald','hard','darn','less','view','lame','keto','vamp','muds','sent','cove','once','moot','warp','glob','look','cane','gold','swim','bred','bomb','post','pups','bios','tack','cons','fist','shut','debt','mess','tush','jazz','kept','drug','lids','jury','what','pane','hawk','eels','play','elks','jets','euro','okay','cyst','cola','text','boss','meat','spas','core','jack','done','bays','grub','minx','maim','bony','glue','pail','slab','gulp','mend','gaps','taxi','jobs','slob','roar','opal','four','crud','peep','snap','sigh','husk','dupe','hang','gyms','poop','hull','dope','area','wipe','fail','soul','hand','feud','gash','paid','mile','weak','sole','crib','tabs','duly','owls','dust','doom','tile','bile','ours','ribs','crop','pigs','airy','toss','week','code','haze','odds','slam','doll','blow','bane','mold','sock','curd','more','sops','rasp','boxy','loin','ring','same','king','joke','pant','link','hear','peso','told','spat','mood','mill','lure','hats','ploy','firs','huge','wear','jolt','ramp','jade','dunk','pang','mild','five','mist','neat','soak','huts','sync','quad','this','dash','riff','germ','name','page','camo','brat','cues','rigs','test','swum','ball','fill','pelt','auto','spun','cave','cord','swat','tuck','fume','talk','slum','ease','awes','anew','icky','boat','soon','pope','raps','hare','stat','lull','cape','tune','tidy','they','deny','bead','stag','tong','trip','nice','chit','airs','lass','lads','calf','pill','bake','pale','stun','dyke','feel','bump','rows','sham','pile','lisp','lobs','pork','flub','flex','mega','slit','boas','clip','apps','liar','meek','peas','fate','obey','crew','gear','self','smut','gray','chap','help','acne','foot','luck','bent','sows','fuel','bide','sung','toga','murk','lord','bowl','lube','glut','sumo','zero','zoom','cusp','glam','pets','sags','mayo','edge','sewn','info','rags','nips','ruck','pubs','ways','awed','vibe','dare','belt','disk','hair','coin','awry','bobs','itch','meld','bias','near','dull','mate','atom','juke','lied','veil','beef','fart','free','ions','inns','bags','sped','puma','daft','skip','cope','fake','foil','town','puff','feed','burl','stay','gawk','whom','diva','then','noel','memo','buff','plus','cart','dims','prop','coal','vase','dime','oust','duct','gyro','gunk','damp','bans','fled','saws','wavy','duck','twin','fret','spud','bots','hone','blab','jaws','wash','lier','logs','tool','pits','meet','rank','peel','tees','dial','size','yard','hogs','blot','punk','seas','cult','roof','inch','bled','pour','furs','wane','norm','odes','sage','dips','bats','root','fair','male','stop','miss','news','bonk','lump','ding','camp','waxy','jump','emus','heck','idly','fuzz','pews','sign','menu','buds','clad','hilt','oozy','eras','faze','coke','hoes','away','rice','tuba','have','race','fowl','silk','bank','hero','mean','busk','puny','rung','yoga','hugs','burn','tuna','sift','vest','foxy','dabs','walk','zinc','sash','them','sell','urns','team','nude','blob','arty','mull','open','clan','tape','busy','hops','woke','cram','wrap','fish','hash','long','sank','teas','aqua','gins','oink','road','push','sees','blog','runs','lace','into','wise','cook','stew','call','shot','hams','kiss','vent','fats','plop','quid','also','goon','pare','late','bolt','cool','reef','oils','copy','flit','axis','bare','loft','drag','dead','sown','sang','dots','poet','rope','pore','epic','both','mule','scab','lark','hint','tiki','toll','song','fast','lawn','ones','lens','bits','pact','dirt','axed','levy','legs','duds','lice','love','logo','laws','dais','plum','ripe','peek','typo','wees','vane','buns','dude','silt','sons','cats','peat','tier','gnaw','tint','crow','iris','knit','tact','dyes','sink','your','sect','posh','bash','rude','muff','lush','bass','sobs','torn','tofu','loom','gown','vend','does','aura','snob','spar','isle','envy','eyes','ashy','hemp','sits','arch','loop','cabs','year','pick','deke','rams','shoo','pegs','hark','show','item','adds','gape','romp','oats','mask','hurt','nobs','deep','loon','spit','nibs','wack','spry','spin','iron','skit','rare','tips','ruby','hope','rads','cuts','beak','keys','gulf','ooze','that','bath','horn','shun','numb','quiz','mobs','mutt','pump','cams','than','mail','flea','owes','toad','pine','temp','lips','worn','bail','mush','port','nope','rise','bids','mane','leek','gent','beds','lone','bury','flap','tarp','maws','went','hold','halo','expo','cure','soar','exit','feat','sets','tame','ally','will','kiln','mark','dean','lynx','ills','mars','seal','boar','bill','foul','wire','well','aunt','deli','city','glee','ants','gift','jabs','hoot','skid','labs','tram','vary','ream','dine','upon','ties','path','leak','weep','fell','fiat','joys','take','bets','limb','dens','chop','maps','sins','ship','fury','fray','bale','neon','lamp','goop','mock','vies','acts','door','felt','flee','limp','hips','grad','aced','scat','slim','jail','leap','lava','cuff','yeah','nubs','kick','mite','wasp','myth','drew','tiny','orzo','gene','scan','riot','rosy','sore','hunk','hose','wage','main','herb','dish','pier','lash','even','raid','fang','jays','life','deem','hens','kiwi','dues','coup','hoax','deft','easy','dole','jots','wool','stub','sews','army','disc','drum','chow','gave','lily','farm','iota','jean','outs','feet','onyx','bond','wolf','lane','peer','tags','deer','beat','gone','food','doze','fans','trim','carp','cole','give','goth','bark','mole','holy','lean','goof','buck','tire','bean','lags','stir','plot','buss','shed','wood','nine','milk','mace','blip','pace','pals','fare','foal','bunk','huff','tilt','mute','term','heap','fear','veal','moor','lurk','dark','duos','ores','cows','live','rode','muse','slap','soup','dual','rely','hums','came','load','used','boos','nags','meow','pull','rant','mart','cars','mesh','rash','rate','pulp','cede','bozo','duff','void','note','twos','rail','twig','risk','oops','sacs','gout','rear','dung','gist','moss','tole','czar','cued','face','sunk','snip','ogre','boor','buys','bask','gong','lacy','mics','hazy','toys','peak','fads','nosy','nets','kite','bars','hits','rays','with','kids','cans','lead','noon','rune','time','seem','kind','tray','fond','find','crux','part','tusk','when','dome','band','pipe','apes','pack','echo','trio','hind','gaze','edit','ammo','balm','cell','rues','peed','fore','bust','afro','flaw','oval','ward','vats','ruin','pita','safe','amok','stow','quip','fade','park','pats','fess','chug','vein','trek','wild','oath','sort','topo','fund','arms','moat','gall','eyed','tick','much','cogs','hurl','toke','robe','goat','vile','mint','gang','rims','ears','sill','lore','teal','barn','cups','redo','slow','blew','pics','twit','know','caws','mere','pros','tutu','ales','char','muon','scum','bloc','sofa','ekes','pods','rite','rump','harp','diet','rind','lima','avow','gory','beck','errs','hajj','grey','dojo','rife','coax','hems','polo','ails','newt','putt','perm','balk','naan','fool','mojo','hula','nick','bogs']

const fiveLetterWords = ['mouse','mouth','edges','third','taken','mines','argue','lords','brace','pores','fiats','bland','media','grace','novel','reign','chats','bruin','adage','avoid','alter','nicer','elite','lover','drove','blare','blind','basil','wells','drags','prize','where','ridge','dozes','store','comfy','labor','drool','retro','moist','solar','beefy','devil','skies','brats','clank','funds','dorky','canon','lungs','merit','bouts','binds','organ','young','awoke','easer','drums','brisk','spend','brine','dryer','group','swift','codes','endow','burns','rally','doors','staff','pools','basks','until','tenth','fella','rogue','socks','begun','since','craps','trash','bulks','edits','chili','incur','types','beige','bards','bunch','congo','dizzy','trees','liver','alert','hairs','guild','worse','rides','porch','juice','yeast','cards','sunny','chief','after','yours','seeds','month','allot','bongo','trips','gross','belay','graph','bravo','bakes','cling','class','start','chops','poses','array','dance','trial','damps','berry','posts','looks','spent','fling','amass','nerve','races','cries','skill','amuse','hangs','grand','funny','horse','dives','miles','dolls','tight','beret','flash','faxed','never','habit','bugle','width','greet','blast','barge','balls','cluck','probe','grill','booms','clasp','deems','corky','dimly','cheek','photo','death','ferry','donut','clogs','times','affix','sushi','scope','worth','juicy','cents','sheer','props','sweet','cured','chows','trump','major','given','spare','fazed','noise','filet','alone','sword','deity','snack','scarf','faker','seems','tanks','fanny','calve','grows','bully','blimp','attic','fries','pairs','added','audio','seams','aback','slope','exert','onion','bills','tribe','butte','ninja','cloth','newer','bible','sucks','fills','bases','trick','excel','ahead','teens','paint','teeth','crass','linen','elves','boors','eater','packs','alums','spite','boxer','wrong','begin','rings','spell','psalm','tough','shape','facet','clump','magic','wears','sauce','exist','dunes','cafes','delis','bowel','today','sides','verse','aside','auras','bleed','nexus','hover','sorts','rough','filer','cuter','bytes','extol','cakey','unite','mount','ruins','burly','posed','sport','colon','debts','coach','stole','ebony','stand','poles','boggy','evict','facts','baron','style','bulbs','feint','dawns','spicy','detox','drawn','quote','puppy','pizza','buses','onset','fixed','flaws','truth','boxed','cones','frame','share','needs','ditch','doers','debit','would','seeks','bogey','birds','glass','union','wrote','bombs','valve','fares','dinos','hedge','diary','darts','steam','slice','faxes','sites','alias','phone','alive','avian','sizes','dingo','crept','straw','rigid','chads','lakes','youth','forth','dogma','curls','cooks','flour','ditto','badly','trout','world','ample','toxic','epoch','flank','casts','queue','males','shelf','spots','bride','happy','vodka','alloy','cliff','human','track','tiger','weeks','bevel','board','dates','below','treat','means','shock','bails','voice','eased','fifth','canes','knife','faces','bikes','clams','peach','mixed','crowd','hates','drone','valid','enemy','unity','shots','tutor','shows','sells','crave','melee','codas','crows','herbs','knows','fully','cases','fable','steel','vivid','deans','bagel','omega','above','nasty','brunt','coral','arson','build','olive','march','mixes','flesh','giant','words','fives','coder','still','cobra','corns','takes','dopes','bulls','proxy','likes','proof','desks','entry','edged','clung','ashes','issue','chant','caddy','gifts','ditsy','bingo','again','exile','acids','denim','tools','bread','walls','sized','cameo','dater','shift','tents','metal','copes','elven','bulge','highs','dusty','arise','walks','thumb','famed','blade','prone','busts','dough','tooth','ferny','white','paths','drive','buoys','caped','elude','thing','genes','swept','aquas','butts','fight','bites','early','candy','ratio','bales','minor','downs','filth','crime','index','rises','bands','envoy','steal','rocky','dense','relax','creep','ankle','baste','essay','beard','budge','cramp','calls','champ','ninth','heels','wider','flame','pilot','reply','clues','dated','euros','clack','lease','abhor','clunk','foods','quiet','grain','rocks','flats','brows','ropes','altos','crier','reset','caste','visas','meals','fonts','names','pride','tries','fined','siege','prime','piece','dorks','tones','adder','fines','outer','boney','vents','grief','punch','scale','apply','train','faint','chess','leaks','caper','slate','south','duped','built','ceded','bison','award','fired','crimp','piles','faith','wings','aloud','drier','viral','villa','femur','knots','eagle','dries','urban','deeds','ocean','going','adore','brass','wheel','dolly','birth','songs','chasm','cleat','radar','about','shine','tends','arbor','dooms','front','plugs','polls','coils','bowed','slots','duets','admin','fjord','rated','black','boars','roots','cuffs','lived','using','creak','inner','cumin','scalp','climb','buddy','sneak','banes','depth','offer','twins','ideal','dodgy','broke','maker','makes','aging','teams','burka','theme','which','idiot','algae','alley','lamps','hopes','pouch','asker','topic','goats','daisy','icons','whose','space','perks','cribs','brave','relay','pitch','wires','click','cushy','chose','elect','scout','grind','acing','items','ardor','norms','cacao','stool','cheap','fetus','caked','filmy','bored','backs','shall','royal','fawns','learn','beats','evade','wheat','error','speed','cheer','rival','aroma','tubes','loops','curly','pumps','masks','heart','rebel','ethyl','chill','opera','finds','drips','caves','flees','liner','allay','sweat','brims','minus','child','truck','worst','optic','video','modes','peers','floor','broom','gases','stake','wines','party','hired','clerk','maybe','wrath','combs','curds','rates','artsy','rooms','skull','chews','curvy','flair','plate','myths','aides','cubic','sandy','flick','winds','chime','embed','burnt','amend','beady','befit','fangs','jumps','bucks','conga','civic','dicey','fared','serum','pills','serve','stems','celeb','forty','piano','feats','expel','firms','eared','minds','decoy','chain','chafe','crown','aloha','menus','algal','scene','jeans','whale','pound','jelly','booze','briny','bares','grape','cycle','brief','abort','roses','carol','blame','dodge','panic','dared','flies','salon','bides','knock','press','fatal','story','exact','buzzy','beach','owned','extra','night','hints','torch','merry','intro','fires','adorn','glued','clink','claim','bimbo','purse','parts','barer','usage','blips','write','brink','teach','vocal','gains','cease','exalt','clash','quite','waves','balmy','comps','model','fades','nails','naval','steak','found','tells','north','carbs','towns','stark','guilt','great','doozy','gloss','shaft','shark','falls','suite','expos','close','dealt','noble','demos','loses','money','yards','setup','fists','stuck','shoes','clang','flask','cadet','dares','annoy','elder','awful','clued','carts','fence','gears','crews','adopt','clove','atoll','edify','parks','dusks','elegy','align','turns','dorms','chips','cross','drown','lasts','kinds','votes','horns','fever','mayor','banjo','feral','vapor','works','table','among','biome','trunk','baits','dumps','grams','ought','clubs','trace','colds','beans','years','sadly','steep','fecal','cider','ethic','darks','depot','grave','seals','yield','light','tumor','their','hotel','rifle','epoxy','dweeb','cheat','amply','fated','aisle','indie','bosom','dwell','droid','antic','aunty','bowls','plain','fixes','sheep','trait','comas','alike','right','drunk','cells','apron','dosed','arena','fader','corer','syrup','domes','focus','scoop','earth','aider','ghost','heads','views','cloak','blush','elbow','razor','loyal','humor','drugs','bends','email','scent','label','abide','messy','talks','dress','music','culpa','stove','brush','diets','atlas','dekes','medal','dunce','bigot','decks','while','amiss','chaps','bossy','await','buggy','bitsy','chewy','first','range','doses','adult','along','rural','delve','merge','chase','diner','could','apart','bebop','loves','cinch','lower','flake','strip','bolts','basin','resin','queen','disks','rules','flays','cream','claws','choir','dream','dulls','beets','hoped','bonks','users','cults','crabs','tapes','upper','mixer','curse','dazed','hobby','promo','fiery','fates','mercy','ready','agave','cupid','house','carps','voted','beaks','emits','stars','bells','codex','cubby','fixer','bench','later','moves','favor','upset','price','soils','screw','acorn','chirp','abate','marry','weigh','fakes','cable','pains','sorry','cored','choke','anger','eager','angle','boule','river','spice','balks','there','diver','czars','sheet','cater','score','guess','noted','fruit','lions','fiber','turbo','silly','sends','flows','bunks','angst','moral','crust','deuce','grant','digit','goods','loved','every','naked','wiped','traps','exams','chalk','worry','brute','risen','faced','spark','salad','saves','shiny','hills','layer','bloat','sewer','began','croak','logic','penny','blaze','blued','clout','loads','fried','stays','throw','handy','shown','axial','slide','cruel','cysts','alibi','skirt','hello','shade','ducks','tired','creek','badge','equip','query','title','gamma','coins','edict','circa','thick','leads','basis','etude','grasp','craft','blobs','dived','globe','girls','brews','ports','dames','dusts','lever','stops','sonic','goals','cites','carve','links','braid','trade','doped','boots','pulls','blurt','crumb','lands','pinch','shook','named','renew','snake','broil','cacti','token','holly','fails','bluff','anime','crops','farms','volts','rider','dupes','diced','heard','lemon','nylon','pages','baggy','duals','fiver','peaks','blots','blurs','beads','bided','feces','bound','lucky','green','weird','clays','lists','cores','crack','crude','blank','cowed','ruler','uncle','civil','cakes','brigs','binge','avert','dozen','tower','flood','douse','cedes','claps','dined','feuds','askew','safer','biked','waste','notes','games','jewel','bores','dwarf','shell','booth','pests','fests','tweet','axing','blood','might','fleet','felon','lined','daily','ducky','dozer','drabs','disco','chins','comet','maple','wrist','rails','shore','aunts','frost','knees','exits','droop','hurts','pixel','equal','guide','farts','trend','grass','abuse','bendy','kicks','nodes','chump','atone','discs','deist','stats','these','biles','chefs','enter','culls','seats','felts','curve','antsy','boats','atoms','edger','tiles','float','drops','evens','copra','chuck','earns','dying','ended','eaten','image','fears','cigar','boost','armor','churn','flags','ultra','joins','doggy','ember','match','tuned','solve','twice','state','sleep','ditty','feign','fiend','cusps','adieu','bangs','dusky','plots','spoke','sleek','belch','feels','blitz','drill','bribe','shops','booty','actor','erect','agile','faked','agent','decay','holds','meant','feast','autos','lying','judge','deary','cried','meats','trail','ailed','round','beeps','deeps','amino','clown','dozed','ounce','lunar','enact','brown','widow','kinda','barks','clone','aired','units','cough','sharp','dings','erupt','caulk','banks','burst','spine','amped','doomy','coats','tests','print','laugh','sugar','creed','bodes','ahold','banal','blues','tales','bidet','total','smoke','brook','voter','apple','plane','abode','brake','agree','bathe','taste','epics','doubt','fatty','cutie','belts','react','ranks','waist','dears','radio','three','theft','aimed','compo','belly','halls','crepe','dados','aloof','laser','coals','legal','haven','bared','woods','draws','couch','blurb','biker','capes','eaves','stick','steps','aural','blend','limbs','flaky','egged','inbox','bleat','acute','aptly','moved','pants','carry','robot','super','cover','agony','comic','cited','fazes','fends','boron','stuff','exult','least','erase','sales','ached','opens','oasis','guest','baker','flyer','chord','tract','wages','surge','bears','genre','stiff','feeds','tours','sense','vital','dried','thief','being','helps','stock','zones','biter','homes','condo','fewer','patch','aided','bubba','berth','cress','truly','seven','urged','bezel','chimp','kings','cubes','aster','pipes','cargo','books','coast','touch','place','plans','coops','sight','fraud','aware','agape','nasal','pearl','canny','allow','defer','quest','beefs','think','corks','bonds','crest','canal','blase','dials','flaps','rinse','beers','swing','honey','value','midst','liked','flack','chomp','marks','patio','crits','cared','maths','event','crypt','deism','baked','drama','crate','bones','cools','venue','split','pasta','boast','catch','cache','grips','beams','threw','crawl','cubit','costs','dimes','vague','order','shirt','dowry','fizzy','water','brags','alpha','brawl','smart','chair','beget','chart','bogus','crook','racks','cages','faded','bicep','basic','spoon','yummy','saved','pulse','burps','eject','aches','lanes','motor','satin','chaos','virus','cello','those','crane','tires','fairy','ebbed','brick','storm','wives','finch','strap','plant','filed','visit','prior','paste','brood','reads','fluid','guard','angel','armed','brawn','prove','evils','petty','coded','eases','cares','fault','fishy','stamp','barns','comma','brain','wants','boxes','clock','lodge','cower','chive','demon','craze','dirty','charm','phase','holes','dopey','colts','scans','older','dowel','stone','cause','small','scare','nurse','ideas','hated','botch','coves','ensue','flail','flare','chunk','stage','modem','shoot','areas','newly','lives','avows','amaze','bushy','finer','blows','spray','aglow','bleak','files','billy','drank','wired','picks','carer','sixth','dingy','keeps','fetal','joint','curry','chile','bayou','skins','scary','derby','duffs','bring','donor','chino','amber','usual','baton','peace','caved','broad','count','meter','cedar','tried','folks','hence','timer','erode','lobby','stack','vegan','debut','decry','quilt','twist','blogs','abyss','solid','aorta','reach','chugs','acted','pupil','cooed','chore','grove','bumpy','break','imply','bleep','bunts','weeds','asset','awake','clamp','doves','chits','chest','decal','bawls','casks','realm','audit','brand','proud','babel','glory','blunt','dread','fifty','bobby','gates','jokes','metro','camel','dandy','delta','stain','based','argon','movie','bunny','altar','catty','buyer','fancy','towel','glove','batch','clean','hooks','canoe','crank','avail','urine','smile','rugby','breed','boozy','beech','annul','covet','vinyl','chick','angry','hosts','basal','point','dairy','crock','wound','drift','oxide','swear','evoke','debug','plaza','fetch','sound','calms','cleft','under','color','bract','hawks','gland','route','sigma','vault','brits','fairs','poems','tasks','bacon','smell','final','notch','thigh','codon','bliss','beast','echos','suits','logos','alien','fleas','grown','rainy','orbit','panel','blown','dines','risky','ether','afoot','level','roads','ferns','leave','asked','alarm','field','clefs','fasts','kills','niche','enjoy','study','ruled','souls','awash','owner','deals','tunes','worms','adept','polar','carat','shake','taxes','specs','often','bloke','drink','raise','pause','refer','caged','rolls','conic','terms','speak','crazy','slept','album','whole','acres','shame','drain','squad','clots','signs','harsh','flown','fresh','droll','drawl','doles','clans','gauge','slave','roles','doted','bight','eerie','coups','dills','warns','loans','forum','force','scrap','grade','arrow','women','decor','hands','dents','wagon','woman','curbs','stood','input','crash','blink','gives','yacht','duels','combo','mates','known','daunt','spike','texts','tasty','chute','deter','tempo','corny','lunch','thank','dumpy','noisy','broth','block','dunks','conch','tears','short','duvet','empty','cabin','ranch','pedal','forms','risks','arose','chock','docks','clips','easel','honor','bling','toast','local','ducts','hours','fells','bawdy','adapt','limit','buffs','focal','paper','poker','birch','clear','large','court','bloom','eight','check','doing','ethos','ships','power','crush','opted','trust','plays','lines','rapid','cocoa','bents','bumps','crisp','bulky','anvil','occur','locks','cutup','quick','camps','cloud','fuels','heavy','baths','exude','delay','bonus','steer','loose','other','baled','flier','cures','admit','downy','brash','cords','emote','bless','elope','annex','amity','watts','veins','watch','farce','crams','aioli','bundt','cubed','apnea','dummy','drape','coyly','witch','cocky','spurs','fauna']

const sixLetterWords = ['grease','deploy','binary','sprint','herbal','things','tossed','audits','urgent','bowing','cheery','spring','briefs','mighty','cooker','waking','virtue','govern','detect','became','videos','combat','tables','canvas','alpine','torque','reason','tested','simple','butane','blocky','genius','antler','killed','prompt','befall','battle','exceed','creepy','appear','ripped','beefed','movies','rising','family','copper','beauty','adores','nearby','lonely','boggle','jumped','burrow','comply','lineup','badges','insane','scenic','strict','plains','awhile','heroic','within','bamboo','citrus','master','trials','nobody','shadow','celery','bathed','cavity','trails','brooms','piston','drawer','breech','booked','luxury','aiding','cabled','styles','fourth','blames','senses','sexual','streak','ruined','flying','habits','worker','amazon','blouse','clause','timely','verbal','quirky','floral','colder','expand','folded','catnip','avails','thrill','bought','ceding','medium','bypass','autumn','amazed','listed','credit','busses','assent','easier','artful','palace','stitch','prices','chaste','beside','lovers','oracle','decent','beeper','headed','thirty','module','beware','guided','vanity','blazer','theory','shorts','retain','thinks','cashew','syntax','bother','cycles','mental','flawed','mixing','byline','bedeck','around','potent','crowds','claims','buyout','domain','ensure','dating','smiled','priced','stupid','appeal','regime','beasts','arrays','modest','common','latter','heater','capped','booted','picked','exempt','ribbon','vessel','design','boxers','taught','summer','adders','cheers','cellos','pupils','abject','helped','arming','melody','hunter','driver','causes','novice','heroes','temple','boring','lasted','cereal','facing','minors','planet','ginger','bagels','advent','filing','metals','canola','roster','chests','forums','babies','canals','moving','anemic','shower','biomes','trauma','skills','barman','blamed','import','hazard','carton','aviary','tracks','basins','bandit','buzzed','carpet','biting','aflame','agenda','senate','cheese','sketch','statue','safest','paired','wander','course','caters','rugged','ritual','ground','diving','casket','ranked','banish','cavern','canker','bowery','really','bomber','bevels','bellow','hollow','dreams','ghosts','bestow','equity','bereft','harbor','begins','bullet','broils','brewed','burkas','mirror','masses','teamed','dozens','nicely','bedded','fitted','retail','estate','blasts','behind','bustle','potato','arrive','boughs','symbol','stroke','bleach','effect','wizard','define','biking','raises','darker','abuses','fringe','canopy','parcel','grapes','layers','trends','borrow','beaker','quartz','unused','melted','holder','locker','cancer','brines','crimes','bodega','toxins','brazil','truths','gifted','marker','unlock','height','dragon','random','bridal','return','basted','suited','called','actors','scored','clutch','server','basing','needle','rubber','nurses','cedars','attach','boxing','signed','brains','offers','towers','topics','bucked','pulled','anvils','purple','yields','victim','bureau','cliffs','abodes','ending','carded','hosted','filled','patrol','airbag','coffee','valves','begged','abides','radius','golden','circle','parade','awards','beetle','balder','salads','braced','finale','worthy','laptop','spread','brakes','breaks','levels','stones','centre','buzzes','airily','relies','losing','eagles','solved','caking','judges','rating','batter','whites','bodily','charge','mature','allays','bleeds','abhors','badger','asleep','append','pricey','custom','capita','tweets','grants','ascend','cartel','hatred','opener','allots','packed','sports','scales','stocks','petrol','figure','barged','canary','ageing','places','angler','canned','bashes','venues','trendy','drills','racist','usable','brawls','punish','behave','plants','merits','bluffs','pantry','prison','cardio','cosmic','global','anyhow','camels','graves','father','bigger','boding','belted','artist','abused','avoids','chills','dumped','aerial','wholly','adopts','blimey','slopes','arrows','quotes','liable','winter','attain','atonal','impact','timber','abroad','button','enough','argued','tomato','street','detail','beacon','quests','unsure','strong','chatty','alarms','saddle','picnic','hotels','eating','minute','worlds','romans','riders','jersey','excess','triple','timing','postal','posted','carrot','answer','pistol','kidney','resort','limits','chants','critic','budget','bunked','offset','heaven','itself','astral','stairs','boiler','patent','absorb','bussed','buckle','turkey','person','fellow','unsafe','barren','remove','gallon','stages','balked','defeat','method','allows','divine','troops','wished','divide','admits','biceps','chased','rustic','cooler','aliens','lenses','viewer','mentor','bastes','boogie','aortic','chases','honors','biopsy','saying','puzzle','income','botany','myriad','loosen','stands','invite','speeds','canons','awaits','glance','arsons','colony','forgot','safety','making','atolls','antics','liquid','bleeps','squash','bathes','upside','brushy','anchor','breeds','caress','fierce','beamed','delays','badged','chewed','guilty','passed','aprons','seated','bifold','gently','apples','letter','unions','tigers','alumni','follow','bistro','tenure','budged','nearly','normal','unpaid','bruins','bolted','second','recall','subway','carves','arctic','fairly','blokes','busied','market','softer','clinic','casual','extent','bungee','boards','panels','blazed','canoed','rolled','colors','bisque','engage','scenes','boasts','murder','oppose','knives','rookie','brinks','blurts','beaver','buyers','museum','folder','funnel','create','cashes','annual','lining','aligns','bowled','washer','creams','issued','escape','sleeve','points','solely','partly','booger','floors','dining','frames','aborts','boldly','broods','jacket','always','boomer','strain','misery','phones','amazes','biller','garlic','growth','bikini','handed','rivals','trucks','crying','hybrid','gaming','chairs','babble','armies','superb','insect','barter','ceased','aromas','select','motors','sucked','adding','blimps','former','blends','lovely','chrome','nausea','killer','basics','dubbed','stress','chimps','demons','careen','future','shared','legacy','baking','warmer','browns','thrown','hugely','openly','thighs','beater','garden','burned','intent','busily','bogies','ideals','ladder','bogged','bender','vastly','blotch','steady','medals','traced','ballad','blowed','advert','clouds','refuse','censor','barked','become','viewed','arouse','beaked','banger','sorted','living','bracer','sharks','chunks','stores','birder','gender','client','seized','fibers','seldom','belief','novels','editor','hereby','hassle','tuning','canyon','forced','caging','blower','blanks','rescue','assets','robots','clever','rotate','extras','breast','finely','bashed','mounts','finals','affect','camera','walked','annoys','obtain','higher','vacant','lethal','refuge','reform','learns','argues','winner','baller','popped','valley','tasted','sequel','gloves','gravel','blonde','calmed','repeat','allure','camper','expert','racing','rented','evolve','wealth','tongue','fights','lawful','bribes','debate','baffle','aurora','helmet','baboon','atrium','though','before','adverb','berets','commit','virgin','binged','beeped','sensor','calved','rocket','vector','begets','gather','vendor','formed','behold','prefer','denial','option','builds','waters','weekly','finish','staple','stored','roller','almost','lifted','unfair','beyond','settle','bacons','health','belong','source','sunset','horses','modify','needed','plasma','blocks','reduce','attack','nickel','harder','notion','aching','regret','asylum','bribed','bossed','lumber','cadets','sudden','firing','allege','remain','shield','bronco','energy','banter','rights','border','invest','dental','submit','camped','apathy','bowler','banjos','images','league','tokens','runway','braver','bitter','logged','months','online','cabins','greens','bowers','powers','bushes','bosoms','capful','driven','atomic','locked','render','seemed','boater','unlike','boozed','unless','carrel','agreed','scroll','allele','smooth','dosage','storms','bronze','acuity','armory','praise','broths','braves','caving','occurs','gained','hiking','basely','cables','busier','counts','bonsai','buzzer','notice','insist','decade','broken','relate','deadly','stamps','runner','voices','fluids','looked','ballet','differ','classy','charts','agency','enroll','inches','landed','mainly','inputs','guides','marble','voters','butler','induce','slowly','sticks','middle','appall','uneven','abound','warmth','drones','switch','vision','stains','merely','trains','pastor','joined','prints','ceases','bruise','clicks','blinks','should','public','attire','static','donors','pledge','bezels','funded','cackle','cohort','redeem','people','subtle','ounces','memory','injury','meters','crisis','brainy','emerge','manual','armpit','flames','slides','loving','bedbug','baring','silent','carted','cheesy','digits','washed','slight','afraid','events','marked','behalf','sector','citing','bulges','finest','slaves','planes','impose','batons','regard','career','slower','casino','python','dishes','voting','surely','status','cargos','suites','plaque','purely','stolen','phrase','amulet','verify','barley','tucked','launch','bobcat','betray','armful','dollar','outlet','spends','captor','missed','excuse','aisles','bumble','typing','genres','advise','twelve','orange','braked','backed','except','ticket','cutter','rhythm','waiver','verses','causal','fridge','awoken','reside','pursue','arched','blared','charms','hiding','comedy','depart','sealed','saving','assert','bopped','weight','seeing','church','blazes','basked','juices','cement','blowup','assign','richer','bonded','breezy','warned','booker','shells','native','deputy','bowman','entity','asthma','poorly','lately','judged','foster','enters','tenant','pillow','arisen','useful','notify','matrix','mobile','avenue','spices','babied','cursor','curved','played','island','whales','engine','makers','shifts','averts','throat','eleven','biters','humans','calmer','bylaws','relied','fought','carats','entire','beckon','dealer','sample','biased','served','giants','bikers','chaser','pushed','accept','suffer','covers','albums','player','caused','zombie','burped','befits','bodies','magnet','guitar','glands','monkey','having','cannon','shaped','shirts','circus','parent','spider','school','shines','nation','square','backup','straps','pedals','ethnic','locals','bitten','animal','output','tumors','basket','poster','ranges','median','choose','felony','campus','buries','aspect','worked','expose','bailed','strive','rifles','junior','poetry','filmed','ashore','expect','object','titled','alters','sooner','butter','bakery','braved','anoint','bulged','kernel','lowest','bolder','faster','strike','caucus','ethics','convey','bigots','chasms','canoes','chosen','tackle','banana','slowed','polish','tattoo','throne','emails','doubts','window','saints','signal','closed','nature','burger','hiring','spoken','exotic','arrest','permit','paying','awaken','bumped','chiefs','happen','analog','billow','tagged','geared','raised','barber','labels','fallen','dialog','carpal','remedy','listen','ignore','duties','ankles','stayed','bovine','bidets','treats','breeze','likely','fruits','shades','bugged','bumper','sphere','export','desert','regain','ballot','abrupt','eighth','forget','canine','anthem','summon','boiled','brings','bummed','opened','amends','buried','comics','photos','wounds','bishop','pirate','zoning','resist','beanie','lacked','whilst','acacia','demand','freeze','reveal','moment','trades','afloat','bonier','angsty','direct','hooked','assume','volume','buffer','summit','beings','cavort','metres','turned','angina','edited','bungle','famous','cooked','organs','bombed','barely','factor','router','boosts','twenty','broads','plenty','soccer','intake','marvel','avenge','busker','silver','iconic','unique','priest','enjoys','forest','blunts','wheels','screws','thanks','accent','burden','tubing','intend','stereo','cousin','boxier','axioms','broker','walnut','lesson','pillar','patron','bottle','filler','amoral','grades','hourly','valued','tribes','shapes','asking','severe','purity','cheeky','either','cherry','carved','parked','speaks','burner','bended','scouts','string','fusion','varied','damage','phases','toilet','braids','sponge','amount','throws','traded','defend','alleys','affirm','namely','county','allies','biggie','hunger','archer','active','broach','bright','parish','polite','grains','please','writes','aiming','formal','proper','period','center','quoted','lounge','chorus','blinds','kindle','police','primer','aboard','sender','brunch','browse','travel','bubble','pencil','season','liquor','tragic','models','ampere','stated','anklet','enable','highly','ratios','benign','litter','manner','blares','pastry','chewer','bugles','amuses','carbon','hoping','bundle','blurry','linear','castle','mailed','swords','buffed','shares','lastly','shrink','barges','simmer','caller','inside','senior','ladies','giving','banged','bisons','choice','joints','sugars','stable','adages','update','bowels','alloys','onions','mutual','bounty','branch','tended','varies','celebs','slices','relief','spirit','deeper','cactus','sacred','balled','bugger','houses','befell','layout','noises','refine','starts','topped','proved','candle','reward','beaten','sewing','caring','couple','alcove','enzyme','wolves','sheets','device','deeply','brawns','annuls','legend','bicker','insert','adored','afford','adults','immune','wildly','decide','papers','essays','castes','reader','legion','arches','narrow','abduct','astray','beaded','booths','frozen','boreal','bloods','cheeks','attest','stakes','recipe','birdie','wanted','barfed','arises','adhere','mother','towels','earned','wisely','attics','avatar','brides','corner','ablaze','cashed','bodied','tricks','averse','alphas','batted','freely','treaty','titles','bloody','pounds','rather','caveat','brooks','wishes','rushed','taking','doctor','upward','snakes','bather','filter','shrimp','altars','carver','vacuum','hidden','values','showed','bouncy','creamy','angled','pocket','across','simply','pretty','repair','accuse','rotary','arenas','chapel','coming','newest','buying','drives','bounds','checks','bubbly','fluffy','packet','infant','stream','linked','single','hockey','change','burial','bunted','debris','depend','sights','tactic','gotten','bridge','affair','humble','airing','oxygen','barbed','header','deemed','caviar','anyone','arcade','trusts','optics','female','buttes','utmost','rooted','prayer','weapon','weighs','delete','absent','banded','bummer','desire','adrift','tribal','spouse','bushel','boyish','basses','zipper','author','loaded','boated','stacks','flyers','podium','tissue','thread','myself','seller','booing','calves','breath','census','hungry','intact','edible','theirs','owning','audios','slider','bricks','scared','pieces','resume','during','costly','cheats','fossil','equals','hammer','secret','faults','skinny','yellow','oldest','billed','target','tricky','ascent','refund','salary','absurd','closes','widget','sister','exists','alibis','flight','extend','drinks','lawyer','sticky','scores','binder','report','casing','awakes','flavor','angels','pepper','depths','wonder','proves','refers','longer','bionic','keeper','spaces','breads','barker','safari','faulty','secure','learnt','copied','terror','coding','wisdom','pilots','larger','albino','oceans','merger','versus','talent','drying','capper','socket','acorns','remote','survey','copies','banner','trader','groove','gluten','chilly','laying','brutes','degree','nights','sturdy','barred','proven','cities','failed','carols','marine','hearts','nerves','portal','agrees','attend','amoeba','modern','dancer','heated','cervix','carpel','struck','barrel','advice','candid','sodium','facial','recent','bogeys','expire','biases','weaker','assure','burley','spells','cinema','bongos','neatly','occupy','endure','abided','poured','region','guests','backer','double','bearer','closer','budded','bottom','rumors','robust','column','review','ailing','writer','beagle','burlap','alpaca','breach','wasted','origin','trophy','rental','wallet','allude','united','chance','stance','supply','gamers','beheld','gentle','scheme','inform','defect','sounds','brazen','bucket','prince','cherub','plates','banker','tender','little','champs','dinner','brewer','shoots','indoor','upload','danger','galaxy','assess','bosses','adapts','screen','lender','viable','empire','kicked','peanut','coated','brutal','almond','mining','accost','tastes','handle','barons','bursts','banned','asides','anyway','visual','format','bunion','flower','celled','cotton','calmly','jungle','policy','rounds','beards','losses','angers','allied','ambled','baddie','brined','lyrics','aspire','cabana','hardly','airway','orders','banked','action','addict','actual','healed','thrive','smells','humane','pixels','accrue','better','cruise','office','easily','issues','rivers','locate','bakers','profit','cellar','inning','social','indeed','airier','tennis','effort','curves','serial','knight','friend','boomed','states','chimes','busted','remind','routes','skiing','evenly','adorns','waited','studio','voyage','pickup','makeup','search','ranged','collar','bedpan','thesis','reject','taller','avidly','amused','script','spikes','blurbs','alerts','cookie','mostly','miners','bursar','devils','powder','forces','chalks','bawled','ranger','bemoan','yogurt','buoyed','cancel','honest','fields','kindly','number','threat','busboy','noting','crafts','elders','donate','record','laughs','bobbed','garage','diesel','firmly','adjust','access','muscle','latest','serves','strips','rabbit','visits','braces','margin','rarely','themes','leader','feared','acting','chicks','placed','caught','lights','metric','tunnel','bounce','denied','wooden','closet','pushes','ambush','velvet','owners','births','riding','wicked','deaths','length','buffet','bidder','agents','binges','safely','toward','awning','arguer','result','sought','shores','gospel','manage','berate','unable','trying','wiring','motion','catchy','bonnet','graphs','overly','salmon','prizes','majors','bunker','acidic','courts','splash','blades','member','employ','widely','cattle','poison','glossy','horror','singer','admire','chords','fixing','farmer','groups','angles','beachy','speech','fiscal','chimed','easter','turtle','bonked','guards','retire','baited','amidst','fabric','assist','biding','series','chains','yearly','chalky','snacks','leaves','coupon','cracks','lively','rebels','matter','bagger','ruling','housed','tablet','errors','passes','basalt','outfit','astute','traits','finger','chafes','blooms','beluga','violin','bisect','brands','talked','abuser','spinal','herein','bagged','system','lesser']

var gameOver = false
var todaysFourLetterWord = ""
var todaysFiveLetterWord = ""
var todaysSixLetterWord = ""
var todaysWords = []

var row = 0; // indicates current word
var col = 0; // indicates current letter of current word
var letterFreq = new Map() // for populating/monitoring keyboard

var timer;
var minutes = 0;
var seconds = 0;

// finish times
var times = [0, 0, 0, 0, 0, 0];
var resultsText = ''

var allowAnagrams = false;
var darkMode;

const colors = ['#F5F7FB', '#E5E7EA', '#CBD2D7', '#9BA5B0', '#7D8694', '#636F7B', '#54606C', '#414C58', '#343F4A', '#222933'];

window.onload = function() {
    darkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
    setColors(darkMode);
    if (darkMode) {
        document.getElementById("display-mode-toggle").setAttribute('checked', true);
    }

    document.getElementById("start-btn").addEventListener("click", function () {
        document.getElementById("start-page").style.display = "none";
        document.getElementById("board-container").style.visibility = "visible";
        initialize();
    });
}

function toggleAnagrams() {
    allowAnagrams = !allowAnagrams;
}

function setColors(darkMode) {
    if (darkMode) {
        document.documentElement.style.setProperty('--text-main', colors[1]);
        document.documentElement.style.setProperty('--text-secondary', colors[1]);
        document.documentElement.style.setProperty('--text-ternary', colors[3]);
        document.documentElement.style.setProperty('--background', colors[9]);
        document.documentElement.style.setProperty('--hr', colors[7]);
        document.documentElement.style.setProperty('--tile-correct-border', colors[0]);
        document.documentElement.style.setProperty('--tile-correct-text', colors[0]);
        document.documentElement.style.setProperty('--tile-blank', colors[5]);
        document.documentElement.style.setProperty('--tile-blank-border', colors[5]);
        document.documentElement.style.setProperty('--tile-typing', colors[2]);
        document.documentElement.style.setProperty('--tile-typing-border', colors[3]);
        document.documentElement.style.setProperty('--tile-typing-text', colors[9]);
        document.documentElement.style.setProperty('--tile-key', colors[7]);
        document.documentElement.style.setProperty('--tile-key-border', colors[6]);
        document.documentElement.style.setProperty('--tile-key-text', colors[0]);
        document.documentElement.style.setProperty('--modal', colors[7]);
        document.documentElement.style.setProperty('--modal-border', colors[1]);
        document.documentElement.style.setProperty('--slider', colors[1]);
        document.documentElement.style.setProperty('--slider-bg', colors[4]);
        document.documentElement.style.setProperty('--slider-checked-alt', colors[6]);
    } else {
        document.documentElement.style.setProperty('--text-main', colors[9]);
        document.documentElement.style.setProperty('--text-secondary', colors[8]);
        document.documentElement.style.setProperty('--text-ternary', colors[5]);
        document.documentElement.style.setProperty('--background', colors[0]);
        document.documentElement.style.setProperty('--hr', colors[2]);
        document.documentElement.style.setProperty('--tile-correct-border', colors[0]);
        document.documentElement.style.setProperty('--tile-correct-text', colors[0]);
        document.documentElement.style.setProperty('--tile-blank', colors[2]);
        document.documentElement.style.setProperty('--tile-blank-border', colors[2]);
        document.documentElement.style.setProperty('--tile-typing', colors[7]);
        document.documentElement.style.setProperty('--tile-typing-border', colors[3]);
        document.documentElement.style.setProperty('--tile-typing-text', colors[1]);
        document.documentElement.style.setProperty('--tile-key', colors[4]);
        document.documentElement.style.setProperty('--tile-key-border', colors[3]);
        document.documentElement.style.setProperty('--tile-key-text', colors[0]);
        document.documentElement.style.setProperty('--modal', colors[2]);
        document.documentElement.style.setProperty('--modal-border', colors[5]);
        document.documentElement.style.setProperty('--slider', colors[1]);
        document.documentElement.style.setProperty('--slider-bg', colors[4]);
        document.documentElement.style.setProperty('--slider-checked-alt', colors[6]); 
    }
}

function toggleDarkMode() {
    darkMode = !darkMode;
    setColors(darkMode);
}

function initialize() {
    if (allowAnagrams) {
        document.getElementById("anagrams-slider").setAttribute('checked', true);
    }

    timer = setInterval(updateTimer, 1000);
    updateTimer();

    document.getElementById('author').innerText = 'Made by Thomas Fanelli\n(contact: dev.jumble@gmail.com)'

    // set up info button
    document.getElementById("info-btn").addEventListener("click", function () {
        document.getElementById("info").style.display = "flex";
    })
    document.getElementById("close-info").addEventListener("click", function () {
        document.getElementById("info").style.display = "none";
    })

    // set words
    let millisecondsPerDay = 1000 * 60 * 60 * 24;
    const daysSinceEpoch = Math.round(Date.now() / millisecondsPerDay);
    this.todaysFourLetterWord = fourLetterWords[(daysSinceEpoch % fourLetterWords.length)].toUpperCase();
    this.todaysFiveLetterWord = fiveLetterWords[(daysSinceEpoch % fiveLetterWords.length)].toUpperCase();
    this.todaysSixLetterWord = sixLetterWords[(daysSinceEpoch % sixLetterWords.length)].toUpperCase();
    this.todaysWords = [this.todaysFourLetterWord, this.todaysFiveLetterWord, this.todaysSixLetterWord];

    // jumble words
    jumble(this.todaysFourLetterWord, "fourLetterWord");
    jumble(this.todaysFiveLetterWord, "fiveLetterWord");
    jumble(this.todaysSixLetterWord, "sixLetterWord");

    generateKeyboard();
    setLetterFreq();

    let shuffleKey = document.getElementById("shuffle");
    shuffleKey.addEventListener("click", shuffleKeyboard);

    let deleteKey = document.getElementById("backspace");
    deleteKey.addEventListener("click", backspace);

    let enterKey = document.getElementById("enter");
    enterKey.addEventListener("click", update);

    // Listen for Key Press
    document.addEventListener("keyup", (e) => {
        processInput(e);
    })
}

// shuffle letters of a word
function shuffle(word) {
    if (typeof word !== 'string') {
        throw new Error("Input must be a valid string.");
    }
    let shuffled = "";
    let letters = word.split('');
    while (letters.length > 0) {
        let index = Math.floor(Math.random() * letters.length);
        shuffled += letters[index];
        letters.splice(index, 1);
    }
    return shuffled;
}

// shuffle letters of a word until it's different from original
function jumble(word, id) {
    let jumbled = shuffle(word);
    while (jumbled === word) {
        jumbled = shuffle(word);
    }   
    document.getElementById(id).innerText = jumbled;
}

function shuffleKeyboard() {
    var currLetters = "";
    var keyboard = document.getElementById("keyboard-letters");
    var children = keyboard.children;
    for (var i = 0; i < children.length; i++) {
        currLetters = currLetters + children[i].innerText;
    }

    var newShuffle = shuffle(currLetters);
    while (newShuffle === currLetters || newShuffle === todaysWords[row]) { // ensure shuffle is new
        newShuffle = shuffle(currLetters);
    }

    for (var i = 0; i < children.length; i++) {
        children[i].innerText = newShuffle.charAt(i);
        children[i].id = "Key" + newShuffle.charAt(i);
    }

    document.getElementById(getWordId(row)).innerText = newShuffle;
}

function generateKeyboard() {
    // clear existing keyboard letters
    document.querySelectorAll(".letter").forEach(key => {
        key.remove();
    });

    // select correct letters base on current position
    id = getWordId(row);

    // set letters
    var letters = document.getElementById(id).innerText;
    for (let i = 0; i < letters.length; i++) {
        let tile = document.createElement("span");
        tile.id = "Key" + letters.charAt(i);
        tile.classList.add("tile");
        tile.classList.add("key");
        tile.classList.add("letter");
        tile.innerText = letters.charAt(i);
        tile.addEventListener("click", processKeyClick);
        document.getElementById("keyboard-letters").appendChild(tile);
    }
}

function getWordId(row) {   
    switch (row) {
        case 0:
            return "fourLetterWord";
        case 1:
            return "fiveLetterWord";
        case 2:
            return "sixLetterWord";
    }
}

function setLetterFreq() {
    letterFreq = new Map();
    let word = todaysWords[row];
    for (var i = 0; i < word.length; i++) {
        if (letterFreq.has(word.charAt(i).toUpperCase())) {
            letterFreq.set(word.charAt(i).toUpperCase(), letterFreq.get(word.charAt(i).toUpperCase()) + 1);
        } else {
            letterFreq.set(word.charAt(i).toUpperCase(), 1);
        }
    }
}

function processKeyClick() {
    e = { "code" : this.id };
    processInput(e);
}

function processInput(e) {
    if (gameOver) return; 

    if ("KeyA" <= e.code && e.code <= "KeyZ") {
        if (col < row + 4) {
            let currTile = document.getElementById(row.toString() + '-' + col.toString());
            if (letterFreq.get(e.code[3]) > 0) {
                currTile.innerText = e.code[3];
                currTile.classList.add("active");
                col += 1;
                letterFreq.set(e.code[3], letterFreq.get(e.code[3]) - 1);
            }
        }
    }
    else if (e.code == "Backspace") {
        backspace();
    }
    else if (e.code == "Enter") {
        update();
    }
    else if (e.code == "Space") {
        shuffleKeyboard();
    }
}

function backspace() {
    if (0 < col && col <= row + 4) {
        col -=1;
        let currTile = document.getElementById(row.toString() + '-' + col.toString());
        letterFreq.set(currTile.innerText, letterFreq.get(currTile.innerText) + 1);
        currTile.innerText = "";
        currTile.classList.remove("active");
    }
}


async function update() {
    let guess = "";

    // concat tiles to retrieve guess string
    for (let i = 0; i < row + 4; i++) {
        let currTile = document.getElementById(row.toString() + '-' + i.toString());
        let letter = currTile.innerText;
        guess += letter;
    }

    if (guess.length == todaysWords[row].length) {
        await checkGuess(guess);
    } else {
        clearTiles();
    }

    // reset keyboard position
    col = 0;
    setLetterFreq();
}

async function checkGuess(guess) {
    if (guess === todaysWords[row]) { 
        processCorrectGuess(guess);
    } else if (allowAnagrams) {
        const url = "https://api.dictionaryapi.dev/api/v2/entries/en/" + guess.toLowerCase();
        try {
            const response = await fetch(url);
            if (response.status === 200) {
                processCorrectGuess(guess);
            } else {
                processIncorrectGuess();
            }
        } catch (error) {
            processIncorrectGuess();
        }
    } else {
        processIncorrectGuess();
    }
}


function processCorrectGuess(guess) {
    recordTimes();
    document.getElementById(getWordId(row)).innerText = guess.toUpperCase();
    for (let i = 0; i < col; i++) {
        let currTile = document.getElementById(row.toString() + '-' + i.toString());
        currTile.classList.add("correct");
    }

    // check for end of game
    if (row >= 2) {
        endGame();
    } else {
        if (row == 0) document.getElementById("fiveLetterWord").classList.toggle("unblur");
        if (row == 1) document.getElementById("sixLetterWord").classList.toggle("unblur");
        row++;
        generateKeyboard();
    }
}

function processIncorrectGuess() {
    for (let i = 0; i < col; i++) {
        let currTile = document.getElementById(row.toString() + '-' + i.toString());
        currTile.classList.add("wrong");
        currTile.addEventListener("animationend", () => {
            currTile.classList.remove("wrong");
        }, { once : true });
    }
    clearTiles();
}

function clearTiles() {
    for (let i = 0; i < col; i++) {
        let currTile = document.getElementById(row.toString() + '-' + i.toString());
        currTile.innerText = "";
        currTile.classList.remove("active");
    }
}

function recordTimes() {
    if (row == 0) {
        times[0] = minutes;
        times[1] = seconds;
    } else if (row == 1) {
        const t = minutes * 60 + seconds;
        const t1 = times[0] * 60 + times[1];
        times[2] = Math.floor((t - t1) / 60);
        times[3] = (t - t1) % 60;
    } else {
        const t = minutes * 60 + seconds;
        const t1 = times[0] * 60 + times[1];
        const t2 = times[2] * 60 + times[3];
        times[4] = Math.floor((t - t1 - t2) / 60);
        times[5] = (t - t1 - t2) % 60;
    }
}

function endGame() {
    setShareableResults();
    document.getElementById("copy-btn").style.display = "flex";
    gameOver = true;
    clearInterval(timer);
    [...document.getElementsByClassName("word-container")].forEach(container => {
        container.classList.add("game-over");
    });
    document.getElementById("anagrams").style.display = "none";
    document.getElementById("keyboard").innerHTML = ""; 
   
    if (minutes > 0) {
        document.getElementById("gameOver").innerText = "Well done! You completed today's puzzle in " + minutes + " minute" + (minutes > 1 ? "s" : "") + " and  " + seconds + " second" + (seconds != 1 ? "s." : ".") + "\n\nShare your results and play again tomorrow!";
    } else {
        document.getElementById("gameOver").innerText = "Wow! You completed today's puzzle in just " + seconds + " second" + (seconds != 1 ? "s." : ".") + "\n\nShare your results and play again tomorrow!";
    }
    
    document.getElementById("fourLetterWord").innerText = '';
    document.getElementById("fiveLetterWord").innerText = '';
    document.getElementById("sixLetterWord").innerText = '';

    const start = () => {
        setTimeout(function() {
            confetti.start();
        });
    };
    const stop = () => {
        setTimeout(function() {
            confetti.stop();
        }, 5000);
    };
    start();
    stop();
}

function setShareableResults() {
    const todaysDate = new Date();
    const day = todaysDate.getDate();
    const year = todaysDate.getFullYear();
    var month;
    switch (todaysDate.getMonth()) {
        case 0:
            month = "Jan";
            break;
        case 1:
            month = "Feb";
            break;
        case 2:
            month = "Mar";
            break;
        case 3:
            month = "Apr";
            break;
        case 4:
            month = "May";
            break;
        case 5:
            month = "Jun";
            break;
        case 6:
            month = "Jul";
            break;
        case 7:
            month = "Aug";
            break;
        case 8:
            month = "Sep";
            break;
        case 9:
            month = "Oct";
            break;
        case 10:
            month = "Nov";
            break;
        case 11:
            month = "Dev";
    }

    resultsText = " " + month + " " + day + ", " + year + " \n" + 
    "4 " + times[0] + ":" + ("0" + times[1]).slice(-2) + "\n" + 
    "5 " + times[2] + ":" + ("0" + times[3]).slice(-2) + "\n" +
    "6 " + times[4] + ":" + ("0" + times[5]).slice(-2) + "\n" +
    " " + minutes + ":" + ("0" + seconds).slice(-2) + "\n" + "#jumble";
    document.getElementById("results").innerText = resultsText;
} 

function copyToClipboard() {
    navigator.clipboard.writeText(resultsText + "\n(Play at https://jumble.live)");
    const btn = document.getElementById("copy-btn");
    btn.textContent = "Copied!";
    btn.classList.add("copied");
}

function updateTimer() {
    if (seconds == 59) {
        minutes++;
        seconds = 0;
    } else {
        seconds++;
    }

    document.getElementById("timer").innerText = minutes + ":";
    if (seconds < 10) {
        document.getElementById("timer").innerText += "0" + seconds;
    } else {
        document.getElementById("timer").innerText += seconds;
    }

    if (minutes >= 1440 && seconds > 0) {
        gameOver = true;
        clearInterval(timer);
        document.getElementById("gameOver").innerText = "Wow, you've been here for over 24 hours! Refresh the page to play again."
    }
}

